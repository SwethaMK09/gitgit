private fun setFullScreenView(textureView: TextureView, isFullScreen: Boolean) {
    if (isFullScreen) {
        val displayMetrics = resources.displayMetrics
        val screenWidth = displayMetrics.widthPixels
        val screenHeight = displayMetrics.heightPixels

        // Set a fixed width and height for dual cameras (adjust as needed)
        val dualCameraWidth = screenWidth / 2
        val dualCameraHeight = screenHeight / 2

        if (textureView == textureViewFront) {
            // Calculate the width and height to maintain the camera preview's aspect ratio
            val aspectRatio = dualCameraWidth.toFloat() / dualCameraHeight.toFloat()
            val calculatedWidth = min(screenWidth, (screenHeight * aspectRatio).toInt())
            val calculatedHeight = min(screenHeight, (screenWidth / aspectRatio).toInt())

            textureView.layoutParams =
                LinearLayout.LayoutParams(
                    calculatedWidth,
                    calculatedHeight
                )
            textureViewBack.visibility = View.GONE
        } else {
            textureView.layoutParams =
                LinearLayout.LayoutParams(
                    dualCameraWidth,
                    dualCameraHeight
                )
            textureViewFront.visibility = View.GONE
        }
    } else {
        // Set the layout parameters for dual-camera views (fixed width and height)
        textureViewFront.layoutParams =
            LinearLayout.LayoutParams(
                ViewGroup.LayoutParams.MATCH_PARENT,
                ViewGroup.LayoutParams.MATCH_PARENT,
                1f
            )
        textureViewBack.layoutParams =
            LinearLayout.LayoutParams(
                ViewGroup.LayoutParams.MATCH_PARENT,
                ViewGroup.LayoutParams.MATCH_PARENT,
                1f
            )
        textureViewFront.visibility = View.VISIBLE
        textureViewBack.visibility = View.VISIBLE
    }
}




<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    tools:context=".MainActivity">

    <TextureView
        android:id="@+id/textureViewFront"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:onClick="onClickTextureView" />

    <TextureView
        android:id="@+id/textureViewBack"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:onClick="onClickTextureView" />

</LinearLayout>
